(()=>{"use strict";var e={495:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(248),i=n(982),a=n(535);const s=()=>{let e={...r.E3};function t(t){e=t(e)}function n(){t((e=>(0,r.t)((0,r.wB)(e)))),2!=e.target.length&&o();const c=setInterval((()=>((0,a.hx)(e.snakeArr[e.snakeArr.length-1],e.target)?(t((e=>(0,r.Rg)(e,(0,a.Jb)(e.snakeArr[e.snakeArr.length-1],e.direction)))),(0,i.sY)(e,n,s),o()):t((e=>(0,r.nW)(e,(0,a.Jb)(e.snakeArr[e.snakeArr.length-1],e.direction)))),(0,a.aY)(e.snakeArr[e.snakeArr.length-1])||(0,a.GR)(e.time)||(0,a.h$)(e.snakeArr)?(t((e=>(0,r.Sg)(e))),clearInterval(c),void(0,i.sY)(e,n,s)):(0,a.ib)(e)?(t((e=>(0,r.XH)(e))),clearInterval(c),void(0,i.sY)(e,n,s)):void(0,i.sY)(e,n,s))),e.speed),d=setInterval((()=>{(0,a.Me)(e.gameStatus)?clearInterval(d):(t((e=>(0,r.Xr)((0,r.LT)(e)))),(0,i.sY)(e,n,s))}),1e3);(0,i.sY)(e,n,s)}function s(e){t((t=>(0,r.uy)(t,e)))}function o(){let a=[Math.floor(29*Math.random()+1),Math.floor(29*Math.random()+1)];e.snakeArr.map((e=>{e===a&&o()})),t((e=>(0,r.CD)(e,a))),(0,i.sY)(e,n,s)}(0,i.sY)(e,n,s),t((e=>(0,r.Zg)(e,!1)))}},982:(e,t,n)=>{n.d(t,{sY:()=>i});var r=n(293);function i(e,t,n){var i,a,s,o,c;((e,t,n,i,a,s,o)=>{const c=(0,r.y)(".game-display"),d=(0,r.y)(".start-btn");if(d.addEventListener("click",o),s)for(let e=1;e<31;e++)for(let t=1;t<31;t++){const n=(0,r.u)("div");n.classList.add(`r${e}-c${t}`),c.appendChild(n)}const l=document.querySelectorAll(".game-display > div");if("START"===a){d.style.display="none",l.forEach((e=>e.classList.remove("snake"))),n.map((([e,t])=>{(0,r.y)(`.r${e}-c${t}`).classList.add("snake")}));const i=(0,r.y)(`.r${t[0]}-c${t[1]}`);e?i.classList.remove("target"):i.classList.add("target")}else"FAIL"===a?(d.style.display="inline-block",d.textContent="RESTART",l.forEach((e=>e.classList.remove("target"))),alert(`실패! 다시 시작하세요.\n최종 점수: ${i}`)):"COMPLETE"===a&&(d.style.display="inline-block",d.textContent="NEXT LEVEL",l.forEach((e=>e.classList.remove("target"))),alert(`성공! 다음 단계를 시작하세요.\n현재 점수: ${i}`))})(e.onTarget,e.target,e.snakeArr,e.score,e.gameStatus,e.mapLoading,t),i=e.level,a=e.time,s=e.missionTail,o=e.snakeArr,c=e.score,(0,r.y)("#level").textContent=i,(0,r.y)("#time").textContent=a,(0,r.y)("#mission").textContent=s,(0,r.y)("#tail").textContent=o.length,(0,r.y)("#score").textContent=c,((e,t)=>{(0,r.y)("#up-btn").addEventListener("click",(()=>t("UP"))),(0,r.y)("#down-btn").addEventListener("click",(()=>t("DOWN"))),(0,r.y)("#right-btn").addEventListener("click",(()=>t("RIGHT"))),(0,r.y)("#left-btn").addEventListener("click",(()=>t("LEFT"))),document.addEventListener("keydown",(e=>38===e.keyCode?t("UP"):40===e.keyCode?t("DOWN"):37===e.keyCode?t("LEFT"):39===e.keyCode?t("RIGHT"):void 0))})(e.direction,n)}},293:(e,t,n)=>{function r(e){return document.createElement(e)}function i(e){return document.querySelector(e)}n.d(t,{u:()=>r,y:()=>i})},471:(e,t,n)=>{var r=n(495);window.addEventListener("DOMContentLoaded",(()=>{(0,r.Z)()}))},248:(e,t,n)=>{n.d(t,{CD:()=>m,E3:()=>i,LT:()=>T,Rg:()=>g,Sg:()=>o,XH:()=>c,Xr:()=>d,Zg:()=>L,nW:()=>u,t:()=>a,uy:()=>l,wB:()=>s});var r=n(535);const i={gameStatus:r.XI.READY,mapLoading:!0,direction:r.gC.RIGHT,onTarget:!1,isHit:!1,snakeArr:[[15,15]],target:[],level:1,time:10,missionTail:10,speed:100,score:0};function a(e){return{...e,gameStatus:r.XI.START}}function s(e){return e.gameStatus===r.XI.FAIL?{gameStatus:r.XI.FAIL,mapLoading:!1,direction:r.gC.RIGHT,onTarget:!1,isHit:!1,snakeArr:[[15,15]],target:[],level:1,time:10,missionTail:5,speed:100,score:0}:e.gameStatus===r.XI.COMPLETE?{gameStatus:r.XI.COMPLETE,mapLoading:!1,direction:r.gC.RIGHT,onTarget:!1,isHit:!1,snakeArr:[[15,15]],target:[],level:e.level+1,time:e.time-2<4?4:e.time-2,missionTail:e.missionTail+5,speed:e.speed-25<25?25:e.speed-25,score:e.score+100}:e}function o(e){return{...e,gameStatus:r.XI.FAIL}}function c(e){return{...e,gameStatus:r.XI.COMPLETE}}function d(e){return e.isHit||0===e.time?{...e,gameStatus:r.XI.FAIL}:e.currentTail===e.missionTail?{...e,gameStatus:r.XI.COMPLETE}:e}function l(e,t){return"UP"===t&&"DOWN"!=e.direction?{...e,direction:r.gC.UP}:"DOWN"===t&&"UP"!=e.direction?{...e,direction:r.gC.DOWN}:"RIGHT"===t&&"LEFT"!=e.direction?{...e,direction:r.gC.RIGHT}:"LEFT"===t&&"RIGHT"!=e.direction?{...e,direction:r.gC.LEFT}:e}function u(e,t){return e.snakeArr.push(t),e.snakeArr.shift(),{...e}}function g(e,t){return e.snakeArr.push(t),{...e,time:e.time+4,onTarget:!0,score:e.score+10}}function T(e){return{...e,time:e.time-1}}function m(e,t){return{...e,target:t,onTarget:!1}}function L(e,t){return{...e,mapLoading:t}}},535:(e,t,n)=>{n.d(t,{GR:()=>c,Jb:()=>u,Me:()=>a,XI:()=>r,aY:()=>o,gC:()=>i,h$:()=>d,hx:()=>s,ib:()=>l});const r={READY:"READY",START:"START",FAIL:"FAIL",COMPLETE:"COMPLETE"},i={RIGHT:"RIGHT",LEFT:"LEFT",UP:"UP",DOWN:"DOWN"};function a(e){return e!==r.START}function s(e,t){return e[0]===t[0]&&e[1]===t[1]}function o([e,t]){return e<0||e>30||t<0||t>30}function c(e){return 0===e}function d(e){let t=[...e],[n,r]=t[t.length-1];return t.pop(),t.reduce(((e,[t,i])=>e||n===t&&r===i),!1)}function l(e){return e.missionTail===e.snakeArr.length}function u([e,t],n){switch(n){case"RIGHT":return[e,t+1];case"LEFT":return[e,t-1];case"UP":return[e-1,t];case"DOWN":return[e+1,t]}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(495),n(982),n(293),n(471),n(248),n(535)})();