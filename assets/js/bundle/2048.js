(()=>{"use strict";var e={710:(e,r,t)=>{t.d(r,{Z:()=>a});var n=t(469),o=t(334),i=t(630);const a=()=>{let e={...o.E3};function r(r){e=r(e)}function t(){r((e=>(0,o.t)(e))),a(),a(),(0,n.sY)(e,t,c)}function a(){let t=[Math.floor(4*Math.random()),Math.floor(4*Math.random())];0==e.cardValueArr[t[0]][t[1]]?r((e=>(0,o.Ne)(e,t,2))):a()}function c(d){(0,i.Me)(e.cardValueArr)?(r((e=>(0,o.e2)(e))),(0,n.sY)(e,t,c),r((()=>(0,o.wB)()))):(function(e){r((r=>(0,o.uy)(r,e)))}(d),r((e=>(0,o.Yh)(e,(0,i.L1)(e.cardValueArr,e.direction)))),r((e=>(0,o.a2)(e))),r((e=>(0,o.Vs)(e))),a()),(0,n.sY)(e,t,c)}(0,n.sY)(e,t,c),r((e=>(0,o.HB)(e)))}},469:(e,r,t)=>{t.d(r,{sY:()=>o});var n=t(526);function o(e,r,t){!function(e,r,t,o,i,a){const c=(0,n.y)("#start-btn");if(c.addEventListener("click",a),(0,n.y)("#max").textContent=e,(0,n.y)("#score").textContent=r,!i){const e=(0,n.y)(".game-display");for(let r=1;r<=4;r++)for(let t=1;t<=4;t++){let o=(0,n.u)("div");o.classList.add(`r${r}-c${t}`,"card"),e.appendChild(o)}}const d=document.querySelectorAll(".card");if("START"===o){c.style.display="none",[].forEach.call(d,(e=>{e.classList.remove(`v${e.innerHTML}`),e.innerHTML=""}));for(let e=0;e<4;e++)for(let r=0;r<4;r++)0!=t[e][r]&&[].forEach.call(d,(n=>{n.classList.contains(`r${e+1}-c${r+1}`)&&(n.innerHTML=`${t[e][r]}`,n.classList.add(`v${t[e][r]}`))}))}else"GAMEOVER"===o&&(alert(`GAME OVER! 최종 점수: ${r}/(MAX: ${e})`),c.style.display="inline-block")}(e.maxNumber,e.score,e.cardValueArr,e.gameStatus,e.isCard,r),((e,r,t)=>{r||((0,n.y)("#up-btn").addEventListener("click",(()=>t("UP"))),(0,n.y)("#down-btn").addEventListener("click",(()=>t("DOWN"))),(0,n.y)("#right-btn").addEventListener("click",(()=>t("RIGHT"))),(0,n.y)("#left-btn").addEventListener("click",(()=>t("LEFT"))));r||document.addEventListener("keydown",(r=>{if(!e)return 38===r.keyCode?t("UP"):40===r.keyCode?t("DOWN"):37===r.keyCode?t("LEFT"):39===r.keyCode?t("RIGHT"):void 0}),!0)})(e.isMoved,e.isCard,t)}},526:(e,r,t)=>{function n(e){return document.createElement(e)}function o(e){return document.querySelector(e)}t.d(r,{u:()=>n,y:()=>o})},669:(e,r,t)=>{var n=t(710);window.addEventListener("DOMContentLoaded",(()=>{(0,n.Z)()}))},334:(e,r,t)=>{t.d(r,{E3:()=>o,HB:()=>d,Ne:()=>u,Vs:()=>l,Yh:()=>f,a2:()=>s,e2:()=>c,t:()=>a,uy:()=>E,wB:()=>i});var n=t(630);const o={isCard:!1,cardValueArr:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],gameStatus:n.XI.READY,direction:n.OT.DEFAULT,isMoved:!1,maxNumber:0,score:0};function i(){return{isCard:!0,cardValueArr:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],gameStatus:n.XI.READY,direction:n.OT.DEFAULT,isMoved:!1,maxNumber:0,score:0}}function a(e){return{...e,gameStatus:n.XI.START}}function c(e){return{...e,gameStatus:n.XI.GAMEOVER}}function d(e){return{...e,isCard:!0}}function s(e){let r=e.cardValueArr.flat().reduce(((e,r)=>e>=r?e:r),0);return{...e,maxNumber:r}}function l(e){let r=e.cardValueArr.flat().reduce(((e,r)=>e+r),0);return{...e,score:r}}function u(e,[r,t],n){let o=[...e.cardValueArr];return o[r][t]=n,{...e,cardValueArr:o}}function f(e,r){return{...e,cardValueArr:r,isMoved:!1}}function E(e,r){return"UP"===r?{...e,direction:n.OT.UP,isMoved:!0}:"DOWN"===r?{...e,direction:n.OT.DOWN,isMoved:!0}:"RIGHT"===r?{...e,direction:n.OT.RIGHT,isMoved:!0}:"LEFT"===r?{...e,direction:n.OT.LEFT,isMoved:!0}:e}},630:(e,r,t)=>{t.d(r,{L1:()=>a,Me:()=>i,OT:()=>o,XI:()=>n});const n={READY:"READY",START:"START",GAMEOVER:"GAMEOVER"},o={RIGHT:"RIGHT",LEFT:"LEFT",UP:"UP",DOWN:"DOWN",DEFAULT:""};function i(e){for(let r=0;r<4;r++)for(let t=0;t<4;t++){if(0===e[r][t])return!1;let n=[r-1>=0&&[r-1,t],t+1<=3&&[r,t+1],r+1<=3&&[r+1,t],t-1>=0&&[r,t-1]];for(let o=0;o<4;o++)if(!1!==n[o]&&e[r][t]===e[n[o][0]][n[o][1]])return!1}return!0}function a(e,r){switch(r){case o.UP:for(let r=0;r<4;r++)for(let t=0;t<4;t++)if(0!=e[t][r]){let n=t-1;for(n<0&&(e[t][r]=e[t][r]);n>=0;)if(0===e[n][r])e[n][r]=e[n+1][r],e[n+1][r]=0,n--;else{if(e[n][r]===e[n+1][r]){e[n][r]=2*e[n+1][r],e[n+1][r]=0;break}if(e[n][r]!=e[n+1][r])break}}return e;case o.DOWN:for(let r=3;r>=0;r--)for(let t=3;t>=0;t--)if(0!=e[t][r]){let n=t+1;for(n>3&&(e[t][r]=e[t][r]);n<=3;)if(0===e[n][r])e[n][r]=e[n-1][r],e[n-1][r]=0,n++;else{if(e[n][r]===e[n-1][r]){e[n][r]=2*e[n-1][r],e[n-1][r]=0;break}if(e[n][r]!=e[n-1][r])break}}return e;case o.RIGHT:for(let r=3;r>=0;r--)for(let t=3;t>=0;t--)if(0!=e[r][t]){let n=t+1;for(n>3&&(e[t][r]=e[t][r]);n<=3;)if(0===e[r][n])e[r][n]=e[r][n-1],e[r][n-1]=0,n++;else{if(e[r][n]===e[r][n-1]){e[r][n]=2*e[r][n-1],e[r][n-1]=0;break}if(e[r][n]!=e[r][n-1])break}}return e;case o.LEFT:for(let r=0;r<=3;r++)for(let t=0;t<=3;t++)if(0!=e[r][t]){let n=t-1;for(n<0&&(e[t][r]=e[t][r]);n>=0;)if(0===e[r][n])e[r][n]=e[r][n+1],e[r][n+1]=0,n--;else{if(e[r][n]===e[r][n+1]){e[r][n]=2*e[r][n+1],e[r][n+1]=0;break}if(e[r][n]!=e[r][n+1])break}}return e}}}},r={};function t(n){var o=r[n];if(void 0!==o)return o.exports;var i=r[n]={exports:{}};return e[n](i,i.exports,t),i.exports}t.d=(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},t.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),t(710),t(469),t(526),t(669),t(334),t(630)})();